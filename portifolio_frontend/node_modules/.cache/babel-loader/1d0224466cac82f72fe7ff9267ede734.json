{"ast":null,"code":"import _slicedToArray from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import{Navigation}from'../index.js';import'../pages_css/contact.css';import'../assets/css/components.css';import'../assets/css/animation_slider.css';import{baseURL,useFetch}from'../assets/js/communication.js';import{Loading}from'./loading.js';import Transitions from'../assets/js/transition.js';import{AjaxClient}from'ajax-client';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Contact(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormActive=_useState2[0],setIsFormActive=_useState2[1];var formRef=useRef(null);var _useFetch=useFetch(\"api/contacts?populate=*\",window.contactData);var _useFetch2=_slicedToArray(_useFetch,3);window.contactLoading=_useFetch2[0];window.contactError=_useFetch2[1];window.contactData=_useFetch2[2];var _useFetch3=useFetch(\"api/contact-info\",window.contactInfoData);var _useFetch4=_slicedToArray(_useFetch3,3);window.contactInfoLoading=_useFetch4[0];window.contactInfoError=_useFetch4[1];window.contactInfoData=_useFetch4[2];if(window.contactError||window.contactInfoError){return/*#__PURE__*/_jsx(\"p\",{children:\"Error.\"});}if(window.contactLoading||window.contactInfoLoading){return/*#__PURE__*/_jsx(Loading,{});}var contact=window.contactData.data;function onSendMessageWriteClicked(){setIsFormActive(true);};function onSendMessageSendClicked(){var contactForm=document.getElementById(\"contact_form\");var name=contactForm[0].value;var email=contactForm[1].value;var subject=contactForm[2].value;var text=contactForm[3].value;var emailPattern=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;if(!email.match(emailPattern)){alert(\"Your email adress is not valid.\");return;}var url=baseURL+\"/api/email-contact\";var client=new AjaxClient();// the script where you handle the form input.\nclient.ajax({type:'post',url:url,contentType:'application/json',dataType:'text',data:JSON.stringify({'name':name,'email':email,'subject':subject,'text':text})}// serializes the form's elements.\n);setIsFormActive(false);return;};return/*#__PURE__*/_jsxs(Transitions,{className:\"transition\",children:[/*#__PURE__*/_jsx(Navigation,{highlight:\"contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact\"}),isFormActive&&/*#__PURE__*/_jsxs(\"form\",{id:\"contact_form\",ref:formRef,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email\",/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Subject\",/*#__PURE__*/_jsx(\"input\",{id:\"subject\",name:\"subject\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Message\",/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",type:\"text\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:!isFormActive?onSendMessageWriteClicked:onSendMessageSendClicked,children:!isFormActive?\"Write me a message !\":\"Send !\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card_holder\",children:contact.map(function(data){return/*#__PURE__*/_jsxs(\"a\",{className:\"card card_contact\",href:(data.attributes.isUrl?\"https://www.\":\"mailto:\")+data.attributes.Url,target:\"_blank\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_contact_name\",children:/*#__PURE__*/_jsx(\"strong\",{children:data.attributes.Name})}),/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_url\",children:/*#__PURE__*/_jsx(\"div\",{children:data.attributes.Url})}),/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_contact_logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image_holder image_holder_contact\",children:/*#__PURE__*/_jsx(\"img\",{src:baseURL+data.attributes.Image.data.attributes.url})})})]},data.id);})})]});}","map":{"version":3,"names":["useState","useEffect","useRef","Navigation","baseURL","useFetch","Loading","Transitions","AjaxClient","Contact","props","isFormActive","setIsFormActive","formRef","window","contactData","contactLoading","contactError","contactInfoData","contactInfoLoading","contactInfoError","contact","data","onSendMessageWriteClicked","onSendMessageSendClicked","contactForm","document","getElementById","name","value","email","subject","text","emailPattern","match","alert","url","client","ajax","type","contentType","dataType","JSON","stringify","map","attributes","isUrl","Url","Name","Image","id"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/pages_js/contact.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport { Navigation } from '../index.js';\n\nimport '../pages_css/contact.css'\nimport '../assets/css/components.css'\nimport '../assets/css/animation_slider.css'\nimport { baseURL, useFetch } from '../assets/js/communication.js';\nimport { Loading } from './loading.js';\nimport Transitions from '../assets/js/transition.js';\n\nimport { AjaxClient } from 'ajax-client'\n\nexport function Contact(props) {\n\n\tconst [isFormActive, setIsFormActive] = useState(false);\n\tconst formRef = useRef(null);\n\n\t[window.contactLoading, window.contactError, window.contactData] = useFetch(\"api/contacts?populate=*\", window.contactData);\n\t[window.contactInfoLoading, window.contactInfoError, window.contactInfoData] = useFetch(\"api/contact-info\", window.contactInfoData);\n\n\n\tif (window.contactError || window.contactInfoError) {\n\t\treturn <p>Error.</p>;\n\t}\n\n\tif (window.contactLoading || window.contactInfoLoading) {\n\t\treturn <Loading></Loading>;\n\t}\n\n\tlet contact = window.contactData.data;\n\n\tfunction onSendMessageWriteClicked() {\n\n\t\tsetIsFormActive(true);\n\t};\n\n\tfunction onSendMessageSendClicked() {\n\n\t\tlet contactForm = document.getElementById(\"contact_form\");\n\t\tlet name = contactForm[0].value;\n\t\tlet email = contactForm[1].value;\n\t\tlet subject = contactForm[2].value;\n\t\tlet text = contactForm[3].value;\n\n\t\tlet emailPattern = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n\t\tif (!email.match(emailPattern)) {\n\t\t\talert(\"Your email adress is not valid.\");\n\t\t\treturn;\n\t\t}\n\n\t\tvar url = baseURL + \"/api/email-contact\";\n\t\tconst client = new AjaxClient(); // the script where you handle the form input.\n\t\tclient.ajax({\n\t\t\ttype: 'post',\n\t\t\turl: url,\n\t\t\tcontentType: 'application/json',\n\t\t\tdataType: 'text',\n\t\t\tdata: JSON.stringify({\n\t\t\t\t'name': name,\n\t\t\t\t'email': email,\n\t\t\t\t'subject': subject,\n\t\t\t\t'text': text,\n\t\t\t})\n\t\t}, // serializes the form's elements.\n\t\t);\n\n\t\tsetIsFormActive(false);\n\t\treturn;\n\t};\n\n\treturn (<Transitions className=\"transition\">\n\t\t<Navigation highlight='contact' />\n\t\t<div className='contact_box'>\n\t\t\t<h1>Contact</h1>\n\t\t\t{\n\t\t\t\tisFormActive &&\n\t\t\t\t<form id='contact_form' ref={formRef}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tName\n\t\t\t\t\t\t<input id=\"name\" name='name' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tEmail\n\t\t\t\t\t\t<input id=\"email\" name=\"email\" type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tSubject\n\t\t\t\t\t\t<input id='subject' name='subject' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tMessage\n\t\t\t\t\t\t<textarea id='message' name='message' type=\"text\"></textarea>\n\t\t\t\t\t</label>\n\t\t\t\t</form>\n\t\t\t}\n\t\t\t<button onClick={!isFormActive ? onSendMessageWriteClicked : onSendMessageSendClicked}>{!isFormActive ? \"Write me a message !\" : \"Send !\"}</button>\n\t\t</div>\n\t\t<div className='card_holder'>\n\t\t\t{\n\t\t\t\tcontact.map((data) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<a className='card card_contact' key={data.id} href={((data.attributes.isUrl) ? \"https://www.\" : \"mailto:\") + data.attributes.Url} target=\"_blank\">\n\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_name' >\n\t\t\t\t\t\t\t\t<strong>{data.attributes.Name}</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_url'>\n\t\t\t\t\t\t\t\t<div>{data.attributes.Url}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_logo'>\n\n\t\t\t\t\t\t\t\t<div className='image_holder image_holder_contact'>\n\t\t\t\t\t\t\t\t\t<img src={baseURL + data.attributes.Image.data.attributes.url} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t</Transitions>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}