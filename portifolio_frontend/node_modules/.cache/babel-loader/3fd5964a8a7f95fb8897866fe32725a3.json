{"ast":null,"code":"var _jsxFileName = \"/home/toby2/Desktop/Portifolio/portifolio_frontend/src/pages_js/contact.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Navigation } from '../index.js';\nimport '../pages_css/contact.css';\nimport '../assets/css/components.css';\nimport '../assets/css/animation_slider.css';\nimport { baseURL, useFetch } from '../assets/js/communication.js';\nimport { Loading } from './loading.js';\nimport Transitions from '../assets/js/transition.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Contact(props) {\n  _s();\n\n  const [isFormActive, setIsFormActive] = useState(false);\n  const formRef = useRef(null);\n  [window.contactLoading, window.contactError, window.contactData] = useFetch(\"api/contacts?populate=*\", window.contactData);\n  [window.contactInfoLoading, window.contactInfoError, window.contactInfoData] = useFetch(\"api/contact-info\", window.contactInfoData);\n\n  if (window.contactError || window.contactInfoError) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 10\n    }, this);\n  }\n\n  if (window.contactLoading || window.contactInfoLoading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 10\n    }, this);\n  }\n\n  let contact = window.contactData.data;\n\n  function onSendMessageWriteClicked() {\n    setIsFormActive(true);\n  }\n\n  ;\n\n  function onSendMessageSendClicked() {\n    let contactForm = document.getElementById(\"contact_form\");\n    let name = contactForm[0].value;\n    let email = contactForm[1].value;\n    let subject = contactForm[2].value;\n    let text = contactForm[3].value;\n    let emailPattern = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n    if (!email.match(emailPattern)) {\n      alert(\"Your email adress is not valid.\");\n      return;\n    }\n\n    console.log(formRef);\n    formRef.current.submit();\n    setIsFormActive(false);\n    return;\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(Transitions, {\n    className: \"transition\",\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      highlight: \"contact\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contact_box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 4\n      }, this), isFormActive && /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"contact_form\",\n        ref: formRef,\n        onSubmit: onSendMessageSendClicked,\n        action: baseURL + \"/api/email-contact\",\n        method: \"post\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            name: \"name\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            name: \"email\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Subject\", /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"subject\",\n            name: \"subject\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Message\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"message\",\n            name: \"message\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: !isFormActive ? onSendMessageWriteClicked : onSendMessageSendClicked,\n        children: !isFormActive ? \"Write me a message !\" : \"Send !\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card_holder\",\n      children: contact.map(data => {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"card card_contact\",\n          href: (data.attributes.isUrl ? \"https://www.\" : \"mailto:\") + data.attributes.Url,\n          target: \"_blank\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card_element card_element_contact card_element_contact_name\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: data.attributes.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card_element card_element_contact card_element_url\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: data.attributes.Url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card_element card_element_contact card_element_contact_logo\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image_holder image_holder_contact\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: baseURL + data.attributes.Image.data.attributes.url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 8\n          }, this)]\n        }, data.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Contact, \"pguA9izCdITX4iLeWLD2k+VKq8A=\", false, function () {\n  return [useFetch, useFetch];\n});\n\n_c = Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"names":["useState","useEffect","useRef","Navigation","baseURL","useFetch","Loading","Transitions","Contact","props","isFormActive","setIsFormActive","formRef","window","contactLoading","contactError","contactData","contactInfoLoading","contactInfoError","contactInfoData","contact","data","onSendMessageWriteClicked","onSendMessageSendClicked","contactForm","document","getElementById","name","value","email","subject","text","emailPattern","match","alert","console","log","current","submit","map","attributes","isUrl","Url","Name","Image","url","id"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/pages_js/contact.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport { Navigation } from '../index.js';\n\nimport '../pages_css/contact.css'\nimport '../assets/css/components.css'\nimport '../assets/css/animation_slider.css'\nimport { baseURL, useFetch } from '../assets/js/communication.js';\nimport { Loading } from './loading.js';\nimport Transitions from '../assets/js/transition.js';\n\nexport function Contact(props) {\n\n\tconst [isFormActive, setIsFormActive] = useState(false);\n\tconst formRef = useRef(null);\n\n\t[window.contactLoading, window.contactError, window.contactData] = useFetch(\"api/contacts?populate=*\", window.contactData);\n\t[window.contactInfoLoading, window.contactInfoError, window.contactInfoData] = useFetch(\"api/contact-info\", window.contactInfoData);\n\n\n\tif (window.contactError || window.contactInfoError) {\n\t\treturn <p>Error.</p>;\n\t}\n\n\tif (window.contactLoading || window.contactInfoLoading) {\n\t\treturn <Loading></Loading>;\n\t}\n\n\tlet contact = window.contactData.data;\n\n\tfunction onSendMessageWriteClicked(){\n\t\t\n\t\tsetIsFormActive(true);\n\t};\n\n\tfunction onSendMessageSendClicked(){\n\t\t\n\t\tlet contactForm = document.getElementById(\"contact_form\");\n\t\tlet name = contactForm[0].value;\n\t\tlet email = contactForm[1].value;\n\t\tlet subject = contactForm[2].value;\n\t\tlet text = contactForm[3].value;\n\n\t\tlet emailPattern =   /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n\t\tif(!email.match(emailPattern)){\n\t\t\talert(\"Your email adress is not valid.\");\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(formRef);\n\t\tformRef.current.submit();\n\t\tsetIsFormActive(false);\n\t\treturn;\n\t};\n\n\treturn (<Transitions className=\"transition\">\n\t\t<Navigation highlight='contact' />\n\t\t<div className='contact_box'>\n\t\t\t<h1>Contact</h1>\n\t\t\t{\n\t\t\t\tisFormActive&&\n\t\t\t\t<form id='contact_form' ref={formRef} onSubmit={onSendMessageSendClicked} action={baseURL+\"/api/email-contact\"} method=\"post\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\tName\n\t\t\t\t\t\t<input id=\"name\" name='name' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tEmail\n\t\t\t\t\t\t<input id=\"email\" name=\"email\" type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tSubject\n\t\t\t\t\t\t<input id='subject' name='subject' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tMessage\n\t\t\t\t\t\t<textarea id='message' name='message' type=\"text\"></textarea>\n\t\t\t\t\t</label>\t\n\t\t\t\t</form>\n\t\t\t}\n\t\t\t<button onClick={!isFormActive?onSendMessageWriteClicked:onSendMessageSendClicked}>{!isFormActive?\"Write me a message !\":\"Send !\"}</button>\n\t\t</div>\n\t\t<div className='card_holder'>\n\t\t\t{\n\t\t\t\tcontact.map((data) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<a className='card card_contact' key={data.id} href={((data.attributes.isUrl)?\"https://www.\":\"mailto:\") + data.attributes.Url} target=\"_blank\">\n\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_name' >\n\t\t\t\t\t\t\t\t<strong>{data.attributes.Name}</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_url'>\n\t\t\t\t\t\t\t\t<div>{data.attributes.Url}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_logo'>\n\n\t\t\t\t\t\t\t\t<div className='image_holder image_holder_contact'>\n\t\t\t\t\t\t\t\t\t<img src={baseURL + data.attributes.Image.data.attributes.url} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t</Transitions>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}