{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n\nconst parseJSON = resp => resp.json ? resp.json() : resp;\n\nexport const baseURL = \"http://portifolio.korgut.fr\";\n\nconst checkStatus = resp => {\n  if (resp.status >= 200 && resp.status < 300) {\n    return resp;\n  }\n\n  return parseJSON(resp).then(resp => {\n    throw resp;\n  });\n};\n\nexport const useFetch = (url, globalData) => {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n\n      try {\n        if (globalData === undefined || globalData === null) {\n          let res = await fetch(baseURL + \"/\" + url, {\n            mode: 'cors'\n          });\n          const json = await res.json();\n          setData(json);\n        } else {\n          setData(globalData);\n        }\n\n        setLoading(false);\n      } catch (error) {\n        setError(error);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n  return [loading, error, data];\n};\n\n_s(useFetch, \"cdnblwmK9QuMyYTkxGRQb1PLKRw=\");","map":{"version":3,"names":["useState","useEffect","parseJSON","resp","json","baseURL","checkStatus","status","then","useFetch","url","globalData","data","setData","error","setError","loading","setLoading","fetchData","undefined","res","fetch","mode"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/assets/js/communication.js"],"sourcesContent":["import { useState , useEffect } from 'react';\n\nconst parseJSON = (resp) => (resp.json ? resp.json() : resp);\n\nexport const baseURL = \"http://portifolio.korgut.fr\";\n\nconst checkStatus = (resp) => {\n  if (resp.status >= 200 && resp.status < 300) {\n    return resp;\n  }\n\n  return parseJSON(resp).then(resp => {\n    throw resp;\n  });\n};\n\nexport const useFetch = (url,globalData) => {\n\tconst [data, setData] = useState(null);\n\tconst [error, setError] = useState(null);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(()=>{\n\t\tconst fetchData = async () => {\n\t\t\tsetLoading(true);\n\t\t\ttry{\n\t\t\t\tif(globalData === undefined || globalData === null){\n\t\t\t\t\tlet res = await fetch(baseURL +\"/\"+ url, {mode:'cors'});\n\t\t\t\t\tconst json = await res.json();\n\t\t\t\t\tsetData(json);\n\t\t\t\t}else{\n\t\t\t\t\tsetData(globalData);\n\t\t\t\t}\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (error){\n\t\t\t\tsetError(error);\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t}\n\t\tfetchData();\n\t},[url])\n\n\treturn [loading, error, data];\n}\n\n"],"mappings":";;AAAA,SAASA,QAAT,EAAoBC,SAApB,QAAqC,OAArC;;AAEA,MAAMC,SAAS,GAAIC,IAAD,IAAWA,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACC,IAAL,EAAZ,GAA0BD,IAAvD;;AAEA,OAAO,MAAME,OAAO,GAAG,6BAAhB;;AAEP,MAAMC,WAAW,GAAIH,IAAD,IAAU;EAC5B,IAAIA,IAAI,CAACI,MAAL,IAAe,GAAf,IAAsBJ,IAAI,CAACI,MAAL,GAAc,GAAxC,EAA6C;IAC3C,OAAOJ,IAAP;EACD;;EAED,OAAOD,SAAS,CAACC,IAAD,CAAT,CAAgBK,IAAhB,CAAqBL,IAAI,IAAI;IAClC,MAAMA,IAAN;EACD,CAFM,CAAP;AAGD,CARD;;AAUA,OAAO,MAAMM,QAAQ,GAAG,CAACC,GAAD,EAAKC,UAAL,KAAoB;EAAA;;EAC3C,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM,CAACc,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,IAAD,CAAlC;EACA,MAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,IAAD,CAAtC;EAEAC,SAAS,CAAC,MAAI;IACb,MAAMiB,SAAS,GAAG,YAAY;MAC7BD,UAAU,CAAC,IAAD,CAAV;;MACA,IAAG;QACF,IAAGN,UAAU,KAAKQ,SAAf,IAA4BR,UAAU,KAAK,IAA9C,EAAmD;UAClD,IAAIS,GAAG,GAAG,MAAMC,KAAK,CAAChB,OAAO,GAAE,GAAT,GAAcK,GAAf,EAAoB;YAACY,IAAI,EAAC;UAAN,CAApB,CAArB;UACA,MAAMlB,IAAI,GAAG,MAAMgB,GAAG,CAAChB,IAAJ,EAAnB;UACAS,OAAO,CAACT,IAAD,CAAP;QACA,CAJD,MAIK;UACJS,OAAO,CAACF,UAAD,CAAP;QACA;;QACDM,UAAU,CAAC,KAAD,CAAV;MACA,CATD,CASE,OAAOH,KAAP,EAAa;QACdC,QAAQ,CAACD,KAAD,CAAR;QACAG,UAAU,CAAC,KAAD,CAAV;MACA;IACD,CAfD;;IAgBAC,SAAS;EACT,CAlBQ,EAkBP,CAACR,GAAD,CAlBO,CAAT;EAoBA,OAAO,CAACM,OAAD,EAAUF,KAAV,EAAiBF,IAAjB,CAAP;AACA,CA1BM;;GAAMH,Q"},"metadata":{},"sourceType":"module"}