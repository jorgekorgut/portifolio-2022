{"ast":null,"code":"import _slicedToArray from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _createForOfIteratorHelper from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import{useState,useEffect}from'react';import{Navigation}from'../index.js';import{GetData,useFetch}from'../assets/js/communication.js';import'../pages_css/experience.css';import'../assets/css/components.css';import{Loading}from'./loading.js';import Transitions from'../assets/js/transition.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function filterMapByYear(map,y){return map.filter(function(_ref){var attributes=_ref.attributes;return attributes.Year===y;});}function findEveryYear(map){var everyYear=[];var _iterator=_createForOfIteratorHelper(map),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;if(!everyYear.includes(element.attributes.Year)){everyYear.push(element.attributes.Year);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return everyYear;}export function Experience(props){var _useFetch=useFetch(\"api/experiences?populate=*&sort=Year%3Adesc\",window.experienceData);var _useFetch2=_slicedToArray(_useFetch,3);window.experienceLoading=_useFetch2[0];window.experienceError=_useFetch2[1];window.experienceData=_useFetch2[2];if(window.experienceError){return/*#__PURE__*/_jsx(\"p\",{children:\"Error.\"});}if(window.experienceLoading){return/*#__PURE__*/_jsx(Loading,{});}var experience=window.experienceData.data;var everyYear=findEveryYear(experience);return/*#__PURE__*/_jsxs(Transitions,{className:\"transition\",children:[/*#__PURE__*/_jsx(Navigation,{highlight:\"experience\"}),everyYear.map(function(currentYear){return/*#__PURE__*/_jsx(\"div\",{className:\"year_container card_container\",children:filterMapByYear(experience,currentYear).map(function(exp,expIndex){return/*#__PURE__*/_jsxs(\"div\",{className:\"card card_experience\",children:[expIndex===0&&/*#__PURE__*/_jsx(\"div\",{className:\"year year_box\",children:currentYear}),expIndex!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"year_box\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card_element card_element_experience full_width\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title title_experience\",children:/*#__PURE__*/_jsx(\"strong\",{children:exp.attributes.Title})}),/*#__PURE__*/_jsx(\"div\",{className:\"description\",children:exp.attributes.Description}),/*#__PURE__*/_jsx(\"div\",{className:\"footer_duration\",children:exp.attributes.Duration})]}),exp.attributes.Images.data!=null&&exp.attributes.Images.data.map(function(image){return/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_experience images\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:1337\"+image.attributes.url})},image.id);})]},exp.id);})},currentYear);})]});}","map":{"version":3,"names":["useState","useEffect","Navigation","GetData","useFetch","Loading","Transitions","filterMapByYear","map","y","filter","attributes","Year","findEveryYear","everyYear","element","includes","push","Experience","props","window","experienceData","experienceLoading","experienceError","experience","data","currentYear","exp","expIndex","Title","Description","Duration","Images","image","url","id"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/pages_js/experience.js"],"sourcesContent":["import { useState , useEffect } from 'react';\n\nimport {Navigation} from '../index.js';\n\nimport {GetData, useFetch} from '../assets/js/communication.js'\n\nimport '../pages_css/experience.css'\nimport '../assets/css/components.css'\nimport { Loading } from './loading.js';\nimport Transitions from '../assets/js/transition.js';\n\nfunction filterMapByYear(map, y){\n\treturn map.filter(({attributes})=> attributes.Year === y);\n}\n\nfunction findEveryYear(map){\n\tlet everyYear = [];\n\tfor(let element of map){\n\t\tif(!everyYear.includes(element.attributes.Year)){\n\t\t\teveryYear.push(element.attributes.Year);\t\n\t\t}\n\t}\n\treturn everyYear;\n}\n\nexport function Experience(props){\n\n\t[window.experienceLoading, window.experienceError, window.experienceData] = useFetch(\"api/experiences?populate=*&sort=Year%3Adesc\", window.experienceData);\n\t\n\tif (window.experienceError) {\n\t\treturn <p>Error.</p>;\n\t  }\n\t\n\tif (window.experienceLoading) {\n\t\treturn <Loading></Loading>;\n\t}\n\n\tlet experience = window.experienceData.data;\n\tlet everyYear = findEveryYear(experience);\n\n\treturn (<Transitions className=\"transition\">\n\t\t\t<Navigation highlight='experience'/>\n\t\t\t{\n\t\t\t\teveryYear.map((currentYear) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={currentYear} className='year_container card_container'>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfilterMapByYear(experience, currentYear).map((exp,expIndex)=>(\n\t\t\t\t\t\t\t<div key={exp.id} className=\"card card_experience\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\texpIndex===0 &&\n\t\t\t\t\t\t\t\t\t<div className='year year_box'>{currentYear}</div>\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\texpIndex!==0 &&\n\t\t\t\t\t\t\t\t\t<div className='year_box'></div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t<div className='card_element card_element_experience full_width'>\n\t\t\t\t\t\t\t\t\t\t<div className='title title_experience'><strong>{exp.attributes.Title}</strong></div>\n\t\t\t\t\t\t\t\t\t\t<div className='description'>{exp.attributes.Description}</div>\n\t\t\t\t\t\t\t\t\t\t<div className='footer_duration'>{exp.attributes.Duration}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\texp.attributes.Images.data !=null &&\n\t\t\t\t\t\t\t\t\texp.attributes.Images.data.map((image)=>(\n\t\t\t\t\t\t\t\t\t\t<div key={image.id} className=\"card_element card_element_experience images\">\n\t\t\t\t\t\t\t\t\t\t\t<img src={\"http://localhost:1337\"+image.attributes.url}></img>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)) \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\t       </Transitions>);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}