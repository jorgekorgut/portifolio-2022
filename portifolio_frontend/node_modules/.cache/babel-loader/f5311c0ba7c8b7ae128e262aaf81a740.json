{"ast":null,"code":"import _regeneratorRuntime from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';var parseJSON=function parseJSON(resp){return resp.json?resp.json():resp;};export var baseURL=\"http://portifolio.korgut.fr\";var checkStatus=function checkStatus(resp){if(resp.status>=200&&resp.status<300){return resp;}return parseJSON(resp).then(function(resp){throw resp;});};export var useFetch=function useFetch(url,globalData){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;if(!(globalData===undefined||globalData===null)){_context.next=12;break;}_context.next=5;return fetch(baseURL+\"/\"+url);case 5:res=_context.sent;_context.next=8;return res.json();case 8:json=_context.sent;setData(json);_context.next=13;break;case 12:setData(globalData);case 13:setLoading(false);_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);setError(_context.t0);setLoading(false);case 20:case\"end\":return _context.stop();}}},_callee,null,[[1,16]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[url]);return[loading,error,data];};","map":{"version":3,"names":["useState","useEffect","parseJSON","resp","json","baseURL","checkStatus","status","then","useFetch","url","globalData","data","setData","error","setError","loading","setLoading","fetchData","undefined","fetch","res"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/assets/js/communication.js"],"sourcesContent":["import { useState , useEffect } from 'react';\n\nconst parseJSON = (resp) => (resp.json ? resp.json() : resp);\n\nexport const baseURL = \"http://portifolio.korgut.fr\";\n\nconst checkStatus = (resp) => {\n  if (resp.status >= 200 && resp.status < 300) {\n    return resp;\n  }\n\n  return parseJSON(resp).then(resp => {\n    throw resp;\n  });\n};\n\nexport const useFetch = (url,globalData) => {\n\tconst [data, setData] = useState(null);\n\tconst [error, setError] = useState(null);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(()=>{\n\t\tconst fetchData = async () => {\n\t\t\tsetLoading(true);\n\t\t\ttry{\n\t\t\t\tif(globalData === undefined || globalData === null){\n\t\t\t\t\tconst res = await fetch(baseURL +\"/\"+ url);\n\t\t\t\t\tconst json = await res.json();\n\t\t\t\t\tsetData(json);\n\t\t\t\t}else{\n\t\t\t\t\tsetData(globalData);\n\t\t\t\t}\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (error){\n\t\t\t\tsetError(error);\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t}\n\t\tfetchData();\n\t},[url])\n\n\treturn [loading, error, data];\n}\n\n"],"mappings":"waAAA,OAASA,QAAT,CAAoBC,SAApB,KAAqC,OAArC,CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,IAAD,QAAWA,KAAI,CAACC,IAAL,CAAYD,IAAI,CAACC,IAAL,EAAZ,CAA0BD,IAArC,EAAlB,CAEA,MAAO,IAAME,QAAO,CAAG,6BAAhB,CAEP,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACH,IAAD,CAAU,CAC5B,GAAIA,IAAI,CAACI,MAAL,EAAe,GAAf,EAAsBJ,IAAI,CAACI,MAAL,CAAc,GAAxC,CAA6C,CAC3C,MAAOJ,KAAP,CACD,CAED,MAAOD,UAAS,CAACC,IAAD,CAAT,CAAgBK,IAAhB,CAAqB,SAAAL,IAAI,CAAI,CAClC,KAAMA,KAAN,CACD,CAFM,CAAP,CAGD,CARD,CAUA,MAAO,IAAMM,SAAQ,CAAG,QAAXA,SAAW,CAACC,GAAD,CAAKC,UAAL,CAAoB,CAC3C,cAAwBX,QAAQ,CAAC,IAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,eAA0Bb,QAAQ,CAAC,IAAD,CAAlC,yCAAOc,KAAP,eAAcC,QAAd,eACA,eAA8Bf,QAAQ,CAAC,IAAD,CAAtC,yCAAOgB,OAAP,eAAgBC,UAAhB,eAEAhB,SAAS,CAAC,UAAI,CACb,GAAMiB,UAAS,4FAAG,kJACjBD,UAAU,CAAC,IAAD,CAAV,CADiB,qBAGbN,UAAU,GAAKQ,SAAf,EAA4BR,UAAU,GAAK,IAH9B,iDAIGS,MAAK,CAACf,OAAO,CAAE,GAAT,CAAcK,GAAf,CAJR,QAITW,GAJS,qCAKIA,IAAG,CAACjB,IAAJ,EALJ,QAKTA,IALS,eAMfS,OAAO,CAACT,IAAD,CAAP,CANe,+BAQfS,OAAO,CAACF,UAAD,CAAP,CARe,QAUhBM,UAAU,CAAC,KAAD,CAAV,CAVgB,iFAYhBF,QAAQ,aAAR,CACAE,UAAU,CAAC,KAAD,CAAV,CAbgB,qEAAH,kBAATC,UAAS,0CAAf,CAgBAA,SAAS,GACT,CAlBQ,CAkBP,CAACR,GAAD,CAlBO,CAAT,CAoBA,MAAO,CAACM,OAAD,CAAUF,KAAV,CAAiBF,IAAjB,CAAP,CACA,CA1BM"},"metadata":{},"sourceType":"module"}