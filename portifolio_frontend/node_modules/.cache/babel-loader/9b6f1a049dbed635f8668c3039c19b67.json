{"ast":null,"code":"import _slicedToArray from\"/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import{Navigation}from'../index.js';import'../pages_css/contact.css';import'../assets/css/components.css';import'../assets/css/animation_slider.css';import{baseURL,useFetch}from'../assets/js/communication.js';import{Loading}from'./loading.js';import Transitions from'../assets/js/transition.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Contact(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormActive=_useState2[0],setIsFormActive=_useState2[1];var formRef=useRef(null);var _useFetch=useFetch(\"api/contacts?populate=*\",window.contactData);var _useFetch2=_slicedToArray(_useFetch,3);window.contactLoading=_useFetch2[0];window.contactError=_useFetch2[1];window.contactData=_useFetch2[2];var _useFetch3=useFetch(\"api/contact-info\",window.contactInfoData);var _useFetch4=_slicedToArray(_useFetch3,3);window.contactInfoLoading=_useFetch4[0];window.contactInfoError=_useFetch4[1];window.contactInfoData=_useFetch4[2];if(window.contactError||window.contactInfoError){return/*#__PURE__*/_jsx(\"p\",{children:\"Error.\"});}if(window.contactLoading||window.contactInfoLoading){return/*#__PURE__*/_jsx(Loading,{});}var contact=window.contactData.data;function onSendMessageWriteClicked(){setIsFormActive(true);};function onSendMessageSendClicked(){var contactForm=document.getElementById(\"contact_form\");var name=contactForm[0].value;var email=contactForm[1].value;var subject=contactForm[2].value;var text=contactForm[3].value;var emailPattern=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;if(!email.match(emailPattern)){alert(\"Your email adress is not valid.\");return;}console.log(formRef);formRef.current.submit();setIsFormActive(false);};return/*#__PURE__*/_jsxs(Transitions,{className:\"transition\",children:[/*#__PURE__*/_jsx(Navigation,{highlight:\"contact\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact\"}),isFormActive&&/*#__PURE__*/_jsxs(\"form\",{id:\"contact_form\",ref:formRef,onSubmit:onSendMessageSendClicked,action:baseURL+\"/api/email-contact\",method:\"post\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name\",/*#__PURE__*/_jsx(\"input\",{id:\"name\",name:\"name\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email\",/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Subject\",/*#__PURE__*/_jsx(\"input\",{id:\"subject\",name:\"subject\",type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Message\",/*#__PURE__*/_jsx(\"textarea\",{id:\"message\",name:\"message\",type:\"text\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:!isFormActive?onSendMessageWriteClicked:onSendMessageSendClicked,children:!isFormActive?\"Write me a message !\":\"Send !\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card_holder\",children:contact.map(function(data){return/*#__PURE__*/_jsxs(\"a\",{className:\"card card_contact\",href:(data.attributes.isUrl?\"https://www.\":\"mailto:\")+data.attributes.Url,target:\"_blank\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_contact_name\",children:/*#__PURE__*/_jsx(\"strong\",{children:data.attributes.Name})}),/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_url\",children:/*#__PURE__*/_jsx(\"div\",{children:data.attributes.Url})}),/*#__PURE__*/_jsx(\"div\",{className:\"card_element card_element_contact card_element_contact_logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image_holder image_holder_contact\",children:/*#__PURE__*/_jsx(\"img\",{src:baseURL+data.attributes.Image.data.attributes.url})})})]},data.id);})})]});}","map":{"version":3,"names":["useState","useEffect","useRef","Navigation","baseURL","useFetch","Loading","Transitions","Contact","props","isFormActive","setIsFormActive","formRef","window","contactData","contactLoading","contactError","contactInfoData","contactInfoLoading","contactInfoError","contact","data","onSendMessageWriteClicked","onSendMessageSendClicked","contactForm","document","getElementById","name","value","email","subject","text","emailPattern","match","alert","console","log","current","submit","map","attributes","isUrl","Url","Name","Image","url","id"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/src/pages_js/contact.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport { Navigation } from '../index.js';\n\nimport '../pages_css/contact.css'\nimport '../assets/css/components.css'\nimport '../assets/css/animation_slider.css'\nimport { baseURL, useFetch } from '../assets/js/communication.js';\nimport { Loading } from './loading.js';\nimport Transitions from '../assets/js/transition.js';\n\nexport function Contact(props) {\n\n\tconst [isFormActive, setIsFormActive] = useState(false);\n\tconst formRef = useRef(null);\n\n\t[window.contactLoading, window.contactError, window.contactData] = useFetch(\"api/contacts?populate=*\", window.contactData);\n\t[window.contactInfoLoading, window.contactInfoError, window.contactInfoData] = useFetch(\"api/contact-info\", window.contactInfoData);\n\n\n\tif (window.contactError || window.contactInfoError) {\n\t\treturn <p>Error.</p>;\n\t}\n\n\tif (window.contactLoading || window.contactInfoLoading) {\n\t\treturn <Loading></Loading>;\n\t}\n\n\tlet contact = window.contactData.data;\n\n\tfunction onSendMessageWriteClicked(){\n\t\t\n\t\tsetIsFormActive(true);\n\t};\n\n\tfunction onSendMessageSendClicked(){\n\t\t\n\t\tlet contactForm = document.getElementById(\"contact_form\");\n\t\tlet name = contactForm[0].value;\n\t\tlet email = contactForm[1].value;\n\t\tlet subject = contactForm[2].value;\n\t\tlet text = contactForm[3].value;\n\n\t\tlet emailPattern =   /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n\t\tif(!email.match(emailPattern)){\n\t\t\talert(\"Your email adress is not valid.\");\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(formRef);\n\t\tformRef.current.submit();\n\t\tsetIsFormActive(false);\n\t};\n\n\treturn (<Transitions className=\"transition\">\n\t\t<Navigation highlight='contact' />\n\t\t<div className='contact_box'>\n\t\t\t<h1>Contact</h1>\n\t\t\t{\n\t\t\t\tisFormActive&&\n\t\t\t\t<form id='contact_form' ref={formRef} onSubmit={onSendMessageSendClicked} action={baseURL+\"/api/email-contact\"} method=\"post\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\tName\n\t\t\t\t\t\t<input id=\"name\" name='name' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tEmail\n\t\t\t\t\t\t<input id=\"email\" name=\"email\" type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tSubject\n\t\t\t\t\t\t<input id='subject' name='subject' type=\"text\"></input>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\tMessage\n\t\t\t\t\t\t<textarea id='message' name='message' type=\"text\"></textarea>\n\t\t\t\t\t</label>\t\n\t\t\t\t</form>\n\t\t\t}\n\t\t\t<button onClick={!isFormActive?onSendMessageWriteClicked:onSendMessageSendClicked}>{!isFormActive?\"Write me a message !\":\"Send !\"}</button>\n\t\t</div>\n\t\t<div className='card_holder'>\n\t\t\t{\n\t\t\t\tcontact.map((data) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<a className='card card_contact' key={data.id} href={((data.attributes.isUrl)?\"https://www.\":\"mailto:\") + data.attributes.Url} target=\"_blank\">\n\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_name' >\n\t\t\t\t\t\t\t\t<strong>{data.attributes.Name}</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_url'>\n\t\t\t\t\t\t\t\t<div>{data.attributes.Url}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='card_element card_element_contact card_element_contact_logo'>\n\n\t\t\t\t\t\t\t\t<div className='image_holder image_holder_contact'>\n\t\t\t\t\t\t\t\t\t<img src={baseURL + data.attributes.Image.data.attributes.url} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t\t</div>\n\t</Transitions>)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}