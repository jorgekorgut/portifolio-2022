{"ast":null,"code":"/* See license.txt for terms of usage */\nvar _ = require('underscore');\n\nexports.get = function (url, params, cb) {\n  exports.send(url, 'GET', params, cb);\n};\n\nexports.post = function (url, params, cb) {\n  exports.send(url, 'POST', params, cb);\n};\n\nexports.send = function (url, method, params, cb) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      var data = xhr.responseText;\n\n      try {\n        data = JSON.parse(data);\n      } catch (exc) {}\n\n      if (cb) {\n        cb(data);\n      }\n    }\n  };\n\n  var body;\n\n  if (params) {\n    var bodies = [];\n\n    for (var name in params) {\n      bodies.push(name + '=' + encodeURIComponent(params[name]));\n    }\n\n    body = bodies.join('&');\n\n    if (body.length) {\n      xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    }\n  }\n\n  xhr.send(body);\n};\n\nexports.getJSON = function (url, params, cb) {\n  var pairs = ['callback=jsonp'];\n\n  _.each(params, function (value, key) {\n    pairs[pairs.length] = key + '=' + value;\n  });\n\n  if (pairs.length) {\n    url = url + (url.indexOf('?') == -1 ? '?' : '&') + pairs.join('&');\n  }\n\n  function jsonpReturn(o) {\n    self.jsonp = undefined;\n\n    if (!o || o.error) {\n      if (cb) cb(o);\n    } else {\n      if (cb) cb(0, o);\n    }\n  }\n\n  if (has('appjs')) {\n    self.jsonp = jsonpReturn;\n    appjs.load(url, 'GET', {}, params, function (err, data) {\n      if (err) {\n        cb(err);\n      } else {\n        sandboxEval(data);\n      }\n    });\n  } else if (self.document) {\n    self.jsonp = function (o) {\n      // Return on a timeout to ensure that getJSON calls return asynchronously. There\n      // is a case in IE where, after hitting the back button, this will return\n      // synchronously and potentially confuse some clients.\n      setTimeout(function () {\n        jsonpReturn(o);\n      }, 0);\n    };\n\n    function cleanup() {\n      if (script.parentNode) {\n        script.parentNode.removeChild(script);\n      }\n    }\n\n    var script = document.createElement('script');\n    script.type = 'text/javascript'; // script.async = true;\n\n    script.src = url;\n    script.onload = cleanup;\n\n    script.onerror = function (event) {\n      cleanup();\n      cb(\"Error\");\n    };\n\n    var head = document.getElementsByTagName(\"head\")[0];\n    head.appendChild(script);\n  } else {\n    self.jsonp = jsonpReturn;\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        eval(xhr.responseText);\n        self.jsonp = null;\n      }\n    };\n\n    xhr.send(\"\");\n  }\n};\n\nexports.postJSON = function (url, params, cb) {\n  exports.post(url, params, function (data) {\n    var result = eval(data);\n    cb(0, result);\n  });\n};","map":{"version":3,"names":["_","require","exports","get","url","params","cb","send","post","method","xhr","XMLHttpRequest","open","onreadystatechange","readyState","data","responseText","JSON","parse","exc","body","bodies","name","push","encodeURIComponent","join","length","setRequestHeader","getJSON","pairs","each","value","key","indexOf","jsonpReturn","o","self","jsonp","undefined","error","has","appjs","load","err","sandboxEval","document","setTimeout","cleanup","script","parentNode","removeChild","createElement","type","src","onload","onerror","event","head","getElementsByTagName","appendChild","eval","postJSON","result"],"sources":["/home/toby2/Desktop/Portifolio/portifolio_frontend/node_modules/ajax/lib/ajax.js"],"sourcesContent":["/* See license.txt for terms of usage */\n\nvar _ = require('underscore');\n\nexports.get = function(url, params, cb) {\n    exports.send(url, 'GET', params, cb);\n}\n\nexports.post = function(url, params, cb) {\n    exports.send(url, 'POST', params, cb);\n}\n\nexports.send = function(url, method, params, cb) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    xhr.onreadystatechange = function() {\n        if (xhr.readyState == 4) {\n            var data = xhr.responseText;\n            try {\n                data = JSON.parse(data);\n            } catch (exc) {\n            }\n            if (cb) {\n                cb(data);\n            }\n        }\n    }\n\n    var body;\n    if (params) {\n        var bodies = [];\n        for (var name in params) {\n            bodies.push(name + '=' + encodeURIComponent(params[name]));\n        }\n\n        body = bodies.join('&');\n        if (body.length) {\n            xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"); \n        }        \n    }\n\n    xhr.send(body);\n}\n\nexports.getJSON = function(url, params, cb) {\n   var pairs = ['callback=jsonp'];\n    _.each(params, function(value, key) {\n        pairs[pairs.length] = key+'='+value;\n    });\n    if (pairs.length) {\n        url = url + (url.indexOf('?') == -1 ? '?' : '&') + pairs.join('&');\n    }\n\n    function jsonpReturn(o) {\n        self.jsonp = undefined;\n        if (!o || o.error) {\n            if (cb) cb(o);        \n        } else {\n            if (cb) cb(0, o);\n        }        \n    }\n\n    if (has('appjs')) {\n        self.jsonp = jsonpReturn;\n\n        appjs.load(url, 'GET', {}, params, function(err, data) {\n            if (err) {\n                cb(err);            \n            } else {\n                sandboxEval(data);\n            }\n        });\n    } else if (self.document) {\n        self.jsonp = function(o) {\n            // Return on a timeout to ensure that getJSON calls return asynchronously. There\n            // is a case in IE where, after hitting the back button, this will return\n            // synchronously and potentially confuse some clients.\n            setTimeout(function() { jsonpReturn(o) }, 0);\n        }\n\n        function cleanup() {\n            if (script.parentNode) {\n                script.parentNode.removeChild(script);\n            }            \n        }\n\n        var script = document.createElement('script');\n        script.type = 'text/javascript';\n        // script.async = true;\n        script.src = url;\n        script.onload = cleanup;\n        script.onerror = function(event) {\n            cleanup();\n            cb(\"Error\");\n        };\n        var head = document.getElementsByTagName(\"head\")[0];\n        head.appendChild(script);\n    } else {\n        self.jsonp = jsonpReturn;\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function() {\n            if (xhr.readyState == 4) {\n                eval(xhr.responseText);\n                self.jsonp = null;\n            }\n        }\n        xhr.send(\"\");\n    }\n}\n\nexports.postJSON = function(url, params, cb) {\n    exports.post(url, params, function(data) {\n        var result = eval(data);\n        cb(0, result);\n    }); \n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}